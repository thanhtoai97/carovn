{"ast":null,"code":"var _jsxFileName = \"/Users/lttttoai/Documents/GitHub/carovn/src/containers/Game.js\";\n\n/* eslint-disable class-methods-use-this */\n\n/*\nimport { connect } from 'react-redux';\n// import { bindActionCreators } from 'redux';\nimport { withRouter } from 'react-router-dom';\n\nimport React from 'react';\nimport Board from '../components/Board';\n\nimport {\n  playerMove,\n  timeTravel,\n  toggleHistory,\n  newGame\n} from '../acctions/gameAction';\nimport TimeTravel from '../components/TimeTravel';\nimport '../style/App.css';\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.playerMove = this.playerMove.bind(this);\n    this.calculateWinwer = this.calculateWinwer.bind(this);\n    this.movesList = this.movesList.bind(this);\n    this.gameStatus = this.gameStatus.bind(this);\n  }\n\n  \n  playerMove(move) {\n    const { history, stepNumber, xIsNext, currentBoard } = this.props;\n    const historys = history.slice(0, stepNumber + 1);\n    const squares = currentBoard.slice();\n\n    if (this.calculateWinwer(squares) || squares[move]) {\n      return;\n    }\n    squares[move] = xIsNext ? 'X' : 'O';\n    playerMove(historys, squares);\n  }\n  \n \n  \n  playerMove(i) {\n    const { history, stepNumber, xIsNext } = this.props;\n    const historys = history.slice(0, stepNumber + 1);\n    const current = historys[historys.length - 1];\n    const squaress = current.squares.slice();\n\n    if (this.calculateWinwer(squaress) || squaress[i]) {\n      return;\n    }\n    squaress[i] = xIsNext ? 'X' : 'O';\n    playerMove(historys, squaress);\n  }\n  \n\n  calculateWinwer(squares) {\n    const streaks = [\n      [0, 1, 2],\n      [3, 4, 5],\n      [6, 7, 8],\n      [0, 3, 6],\n      [1, 4, 7],\n      [2, 5, 8],\n      [0, 4, 8],\n      [2, 4, 6]\n    ];\n    for (let i = 0; i < streaks.length; i += 1) {\n      const [a, b, c] = streaks[i];\n      if (\n        squares[a] &&\n        squares[a] === squares[b] &&\n        squares[a] === squares[c]\n      ) {\n        return {\n          winner: squares[a],\n          winningLine: [a, b, c]\n        };\n      }\n    }\n    return {\n      winner: null,\n      winningLine: [null, null, null]\n    };\n  }\n\n  movesList(history) {\n    const { currentBoard, stepNumber } = this.props;\n    const { winner } = this.calculateWinwer(currentBoard.slice());\n    const gameStatus = this.gameStatus(winner);\n    const { endOfGame } = gameStatus;\n    return history.map((step, move) => {\n      const player = move % 2 ? ' - X' : ' - O';\n      const description = move\n        ? `Go to move #${move}${player}`\n        : 'Go to game Start';\n      return (\n        <li key={move.id}>\n          <button\n            type=\"button\"\n            onClick={() => timeTravel(move, endOfGame)}\n            className={stepNumber === move ? 'current_step' : ''}\n          >\n            {description}\n          </button>\n        </li>\n      );\n    });\n  }\n\n  gameStatus(winner) {\n    let status;\n    let endgame;\n    const { stepNumber, xIsNext } = this.props;\n    if (winner) {\n      status = `${winner} is the winner!`;\n      endgame = true;\n    } else if (!winner && stepNumber === 20) {\n      status = \"It's a Draw!\";\n      endgame = true;\n    } else {\n      status = `${xIsNext ? 'X' : 'O'}'s turn.`;\n      endgame = false;\n    }\n    return { status, endgame };\n  }\n\n  sortHistory() {\n    const { isDescending } = this.props;\n    this.sortHistory(isDescending);\n  }\n\n  render() {\n    const {\n      history,\n      xIsNext,\n      showHistory,\n      stepNumber,\n      isDescending,\n      currentBoard\n    } = this.props;\n\n    const current = history[stepNumber];\n    const { winner } = this.calculateWinwer(current.squares);\n    const movess = this.movesList(history);\n\n    const moves = history.map((step, move) => {\n      const desc = move ? `Go to move #${move}` : 'Go to game start';\n      return (\n        <li key={move.id}>\n          <button type=\"button\" onClick={() => this.jumpTo(move)}>\n            {move === stepNumber ? <b>{desc}</b> : desc}\n          </button>\n        </li>\n      );\n    });\n\n    let status;\n    if (winner) {\n      status = `Winner:${winner.player}`;\n    } else {\n      status = `Next player: ${xIsNext ? 'X' : 'O'}`;\n    }\n    return (\n      <div className=\"game\">\n        <div className=\"left_col_game\">\n          <button type=\"button\" onClick={() => newGame()} className=\"exit_game\">\n            New Game\n          </button>\n        </div>\n        <div className=\"game_board\">\n          <Board\n            winner={winner && winner.line}\n            squares={currentBoard}\n            playerMove={i => this.playerMove(i)}\n          />\n        </div>\n        <div className=\"right_col_game\">\n          <TimeTravel\n            moves={movess}\n            showHistory={showHistory}\n            toggleHistory={toggleHistory}\n          />\n        </div>\n        <div className=\"game-info\">\n          <div>{status}</div>\n          <ol>{isDescending ? moves : moves.reverse()}</ol>\n          <button type=\"button\" onClick={() => this.sortHistory()}>\n            Sort By: {isDescending ? 'Descending' : 'Ascending'}\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  history: state.game.history,\n  currentBoard: state.game.currentBoard,\n  xIsNext: state.game.xIsNext,\n  stepNumber: state.game.stepNumber,\n  timeTraveled: state.game.timeTraveled,\n  showHistory: state.game.showHistory,\n  endOfGame: state.game.endOfGame\n});\n\nconst matchDispatchToProps = dispatch => ({\n  playerMove: (history, squares) => dispatch(playerMove(history, squares))\n  \n  return bindActionCreators(\n    {\n      playerMove,\n      toggleHistory,\n      timeTravel,\n      newGame,\n      endGame\n    },\n    dispatch\n  );\n  \n});\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    matchDispatchToProps\n  )(Game)\n);\n// export default Game;\n*/\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport React from 'react';\nimport Board from '../components/Board';\nimport { playerMove } from '../acctions/gameAction';\nimport '../style/App.css';\n\nfunction calculateWinwer(squares) {\n  for (let i = 0; i < 400; i += 1) {\n    if (squares[i] && squares[i] === squares[i - 20] && squares[i] === squares[i - 40] && squares[i] === squares[i + 20] && squares[i] === squares[i + 40] && squares[i + 60] !== squares[i - 60]) {\n      return {\n        player: squares[i],\n        line: [i - 40, i - 20, i, i + 20, i + 40]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i - 20] && squares[i] === squares[i - 40] && squares[i] === squares[i - 60] && squares[i] === squares[i - 80] && squares[i + 20] !== squares[i - 100]) {\n      return {\n        player: squares[i],\n        line: [i - 80, i - 60, i - 40, i - 20, i]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i + 20] && squares[i] === squares[i + 40] && squares[i] === squares[i + 60] && squares[i] === squares[i + 80] && squares[i + 100] !== squares[i - 20]) {\n      return {\n        player: squares[i],\n        line: [i, i + 20, i + 40, i + 60, i + 80]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i - 1] && squares[i] === squares[i - 2] && squares[i] === squares[i + 1] && squares[i] === squares[i + 2] && squares[i + 3] !== squares[i - 3]) {\n      return {\n        player: squares[i],\n        line: [i - 2, i - 1, i, i + 1, i + 2]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i - 1] && squares[i] === squares[i - 2] && squares[i] === squares[i - 3] && squares[i] === squares[i - 4] && squares[i - 5] !== squares[i + 1]) {\n      return {\n        player: squares[i],\n        line: [i - 4, i - 3, i - 2, i - 1, i]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i + 1] && squares[i] === squares[i + 2] && squares[i] === squares[i + 3] && squares[i] === squares[i + 4] && squares[i + 5] !== squares[i - 1]) {\n      return {\n        player: squares[i],\n        line: [i, i + 1, i + 2, i + 3, i + 4]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i - 19] && squares[i] === squares[i - 38] && squares[i] === squares[i + 19] && squares[i] === squares[i + 38] && squares[i + 57] !== squares[i - 57]) {\n      return {\n        player: squares[i],\n        line: [i - 38, i - 19, i, i + 19, i + 38]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i - 19] && squares[i] === squares[i - 38] && squares[i] === squares[i - 57] && squares[i] === squares[i - 76] && squares[i + 19] !== squares[i - 95]) {\n      return {\n        player: squares[i],\n        line: [i - 76, i - 57, i - 38, i - 19, i]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i + 19] && squares[i] === squares[i + 38] && squares[i] === squares[i + 57] && squares[i] === squares[i + 76] && squares[i + 95] !== squares[i - 19]) {\n      return {\n        player: squares[i],\n        line: [i, i + 19, i + 38, i + 57, i + 76]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i - 21] && squares[i] === squares[i - 42] && squares[i] === squares[i + 21] && squares[i] === squares[i + 42] && squares[i + 63] !== squares[i - 63]) {\n      return {\n        player: squares[i],\n        line: [i - 21, i - 42, i, i + 21, i + 42]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i + 21] && squares[i] === squares[i + 42] && squares[i] === squares[i + 63] && squares[i] === squares[i + 84] && squares[i + 105] !== squares[i - 23]) {\n      return {\n        player: squares[i],\n        line: [i, i + 21, i + 42, i + 63, i + 84]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i - 21] && squares[i] === squares[i - 42] && squares[i] === squares[i - 63] && squares[i] === squares[i - 84] && squares[i + 23] !== squares[i - 105]) {\n      return {\n        player: squares[i],\n        line: [i - 84, i - 63, i - 42, i - 21, i]\n      };\n    }\n  }\n\n  return null;\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: [{\n        squares: Array(400).fill(null)\n      }],\n      stepNumber: 0,\n      xIsNext: true,\n      isDescending: true\n    };\n  }\n\n  playerMove(move) {\n    const _this$props = this.props,\n          history = _this$props.history,\n          stepNumber = _this$props.stepNumber,\n          xIsNext = _this$props.xIsNext,\n          currentBoard = _this$props.currentBoard;\n    const historys = history.slice(0, stepNumber + 1);\n    const squares = currentBoard.slice();\n\n    if (this.calculateWinwer(squares) || squares[move]) {\n      return;\n    }\n\n    squares[move] = xIsNext ? 'X' : 'O';\n    playerMove(historys, squares);\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber: step,\n      xIsNext: step % 2 === 0\n    });\n  }\n\n  sortHistory() {\n    const isDescending = this.state.isDescending;\n    this.setState({\n      isDescending: !isDescending\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          history = _this$state.history,\n          stepNumber = _this$state.stepNumber,\n          xIsNext = _this$state.xIsNext,\n          isDescending = _this$state.isDescending;\n    const current = history[stepNumber];\n    const winner = calculateWinwer(current.squares);\n    const moves = history.map((step, move) => {\n      const desc = move ? \"Go to move #\".concat(move) : 'Go to game start';\n      return React.createElement(\"li\", {\n        key: move.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.jumpTo(move),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418\n        },\n        __self: this\n      }, move === stepNumber ? React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419\n        },\n        __self: this\n      }, desc) : desc));\n    });\n    let status;\n\n    if (winner) {\n      status = \"Winner:\".concat(winner.player);\n    } else {\n      status = \"Next player: \".concat(xIsNext ? 'X' : 'O');\n    }\n\n    return React.createElement(\"div\", {\n      className: \"game\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"game-board\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433\n      },\n      __self: this\n    }, React.createElement(Board, {\n      winner: winner && winner.line,\n      squares: current.squares,\n      onClick: i => this.playerMove(i),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"game-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441\n      },\n      __self: this\n    }, status), React.createElement(\"ol\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442\n      },\n      __self: this\n    }, isDescending ? moves : moves.reverse()), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => this.sortHistory(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443\n      },\n      __self: this\n    }, \"Sort By: \", isDescending ? 'Descending' : 'Ascending')));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  history: state.game.history,\n  currentBoard: state.game.currentBoard,\n  xIsNext: state.game.xIsNext,\n  stepNumber: state.game.stepNumber,\n  timeTraveled: state.game.timeTraveled,\n  showHistory: state.game.showHistory,\n  endOfGame: state.game.endOfGame\n});\n\nconst matchDispatchToProps = dispatch => ({\n  playerMove: (history, currentBoard) => dispatch(playerMove(history, currentBoard))\n});\n\nexport default withRouter(connect(mapStateToProps, matchDispatchToProps)(Game)); // export default Game;","map":{"version":3,"sources":["/Users/lttttoai/Documents/GitHub/carovn/src/containers/Game.js"],"names":["connect","withRouter","React","Board","playerMove","calculateWinwer","squares","i","player","line","Game","Component","constructor","props","state","history","Array","fill","stepNumber","xIsNext","isDescending","move","currentBoard","historys","slice","jumpTo","step","setState","sortHistory","render","current","winner","moves","map","desc","id","status","reverse","mapStateToProps","game","timeTraveled","showHistory","endOfGame","matchDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["/* eslint-disable class-methods-use-this */\n\n/*\nimport { connect } from 'react-redux';\n// import { bindActionCreators } from 'redux';\nimport { withRouter } from 'react-router-dom';\n\nimport React from 'react';\nimport Board from '../components/Board';\n\nimport {\n  playerMove,\n  timeTravel,\n  toggleHistory,\n  newGame\n} from '../acctions/gameAction';\nimport TimeTravel from '../components/TimeTravel';\nimport '../style/App.css';\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.playerMove = this.playerMove.bind(this);\n    this.calculateWinwer = this.calculateWinwer.bind(this);\n    this.movesList = this.movesList.bind(this);\n    this.gameStatus = this.gameStatus.bind(this);\n  }\n\n  \n  playerMove(move) {\n    const { history, stepNumber, xIsNext, currentBoard } = this.props;\n    const historys = history.slice(0, stepNumber + 1);\n    const squares = currentBoard.slice();\n\n    if (this.calculateWinwer(squares) || squares[move]) {\n      return;\n    }\n    squares[move] = xIsNext ? 'X' : 'O';\n    playerMove(historys, squares);\n  }\n  \n \n  \n  playerMove(i) {\n    const { history, stepNumber, xIsNext } = this.props;\n    const historys = history.slice(0, stepNumber + 1);\n    const current = historys[historys.length - 1];\n    const squaress = current.squares.slice();\n\n    if (this.calculateWinwer(squaress) || squaress[i]) {\n      return;\n    }\n    squaress[i] = xIsNext ? 'X' : 'O';\n    playerMove(historys, squaress);\n  }\n  \n\n  calculateWinwer(squares) {\n    const streaks = [\n      [0, 1, 2],\n      [3, 4, 5],\n      [6, 7, 8],\n      [0, 3, 6],\n      [1, 4, 7],\n      [2, 5, 8],\n      [0, 4, 8],\n      [2, 4, 6]\n    ];\n    for (let i = 0; i < streaks.length; i += 1) {\n      const [a, b, c] = streaks[i];\n      if (\n        squares[a] &&\n        squares[a] === squares[b] &&\n        squares[a] === squares[c]\n      ) {\n        return {\n          winner: squares[a],\n          winningLine: [a, b, c]\n        };\n      }\n    }\n    return {\n      winner: null,\n      winningLine: [null, null, null]\n    };\n  }\n\n  movesList(history) {\n    const { currentBoard, stepNumber } = this.props;\n    const { winner } = this.calculateWinwer(currentBoard.slice());\n    const gameStatus = this.gameStatus(winner);\n    const { endOfGame } = gameStatus;\n    return history.map((step, move) => {\n      const player = move % 2 ? ' - X' : ' - O';\n      const description = move\n        ? `Go to move #${move}${player}`\n        : 'Go to game Start';\n      return (\n        <li key={move.id}>\n          <button\n            type=\"button\"\n            onClick={() => timeTravel(move, endOfGame)}\n            className={stepNumber === move ? 'current_step' : ''}\n          >\n            {description}\n          </button>\n        </li>\n      );\n    });\n  }\n\n  gameStatus(winner) {\n    let status;\n    let endgame;\n    const { stepNumber, xIsNext } = this.props;\n    if (winner) {\n      status = `${winner} is the winner!`;\n      endgame = true;\n    } else if (!winner && stepNumber === 20) {\n      status = \"It's a Draw!\";\n      endgame = true;\n    } else {\n      status = `${xIsNext ? 'X' : 'O'}'s turn.`;\n      endgame = false;\n    }\n    return { status, endgame };\n  }\n\n  sortHistory() {\n    const { isDescending } = this.props;\n    this.sortHistory(isDescending);\n  }\n\n  render() {\n    const {\n      history,\n      xIsNext,\n      showHistory,\n      stepNumber,\n      isDescending,\n      currentBoard\n    } = this.props;\n\n    const current = history[stepNumber];\n    const { winner } = this.calculateWinwer(current.squares);\n    const movess = this.movesList(history);\n\n    const moves = history.map((step, move) => {\n      const desc = move ? `Go to move #${move}` : 'Go to game start';\n      return (\n        <li key={move.id}>\n          <button type=\"button\" onClick={() => this.jumpTo(move)}>\n            {move === stepNumber ? <b>{desc}</b> : desc}\n          </button>\n        </li>\n      );\n    });\n\n    let status;\n    if (winner) {\n      status = `Winner:${winner.player}`;\n    } else {\n      status = `Next player: ${xIsNext ? 'X' : 'O'}`;\n    }\n    return (\n      <div className=\"game\">\n        <div className=\"left_col_game\">\n          <button type=\"button\" onClick={() => newGame()} className=\"exit_game\">\n            New Game\n          </button>\n        </div>\n        <div className=\"game_board\">\n          <Board\n            winner={winner && winner.line}\n            squares={currentBoard}\n            playerMove={i => this.playerMove(i)}\n          />\n        </div>\n        <div className=\"right_col_game\">\n          <TimeTravel\n            moves={movess}\n            showHistory={showHistory}\n            toggleHistory={toggleHistory}\n          />\n        </div>\n        <div className=\"game-info\">\n          <div>{status}</div>\n          <ol>{isDescending ? moves : moves.reverse()}</ol>\n          <button type=\"button\" onClick={() => this.sortHistory()}>\n            Sort By: {isDescending ? 'Descending' : 'Ascending'}\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  history: state.game.history,\n  currentBoard: state.game.currentBoard,\n  xIsNext: state.game.xIsNext,\n  stepNumber: state.game.stepNumber,\n  timeTraveled: state.game.timeTraveled,\n  showHistory: state.game.showHistory,\n  endOfGame: state.game.endOfGame\n});\n\nconst matchDispatchToProps = dispatch => ({\n  playerMove: (history, squares) => dispatch(playerMove(history, squares))\n  \n  return bindActionCreators(\n    {\n      playerMove,\n      toggleHistory,\n      timeTravel,\n      newGame,\n      endGame\n    },\n    dispatch\n  );\n  \n});\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    matchDispatchToProps\n  )(Game)\n);\n// export default Game;\n*/\n\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport React from 'react';\nimport Board from '../components/Board';\n\nimport { playerMove } from '../acctions/gameAction';\nimport '../style/App.css';\n\nfunction calculateWinwer(squares) {\n  for (let i = 0; i < 400; i += 1) {\n    if (\n      squares[i] &&\n      squares[i] === squares[i - 20] &&\n      squares[i] === squares[i - 40] &&\n      squares[i] === squares[i + 20] &&\n      squares[i] === squares[i + 40] &&\n      squares[i + 60] !== squares[i - 60]\n    ) {\n      return { player: squares[i], line: [i - 40, i - 20, i, i + 20, i + 40] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i - 20] &&\n      squares[i] === squares[i - 40] &&\n      squares[i] === squares[i - 60] &&\n      squares[i] === squares[i - 80] &&\n      squares[i + 20] !== squares[i - 100]\n    ) {\n      return { player: squares[i], line: [i - 80, i - 60, i - 40, i - 20, i] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i + 20] &&\n      squares[i] === squares[i + 40] &&\n      squares[i] === squares[i + 60] &&\n      squares[i] === squares[i + 80] &&\n      squares[i + 100] !== squares[i - 20]\n    ) {\n      return { player: squares[i], line: [i, i + 20, i + 40, i + 60, i + 80] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i - 1] &&\n      squares[i] === squares[i - 2] &&\n      squares[i] === squares[i + 1] &&\n      squares[i] === squares[i + 2] &&\n      squares[i + 3] !== squares[i - 3]\n    ) {\n      return { player: squares[i], line: [i - 2, i - 1, i, i + 1, i + 2] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i - 1] &&\n      squares[i] === squares[i - 2] &&\n      squares[i] === squares[i - 3] &&\n      squares[i] === squares[i - 4] &&\n      squares[i - 5] !== squares[i + 1]\n    ) {\n      return { player: squares[i], line: [i - 4, i - 3, i - 2, i - 1, i] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i + 1] &&\n      squares[i] === squares[i + 2] &&\n      squares[i] === squares[i + 3] &&\n      squares[i] === squares[i + 4] &&\n      squares[i + 5] !== squares[i - 1]\n    ) {\n      return { player: squares[i], line: [i, i + 1, i + 2, i + 3, i + 4] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i - 19] &&\n      squares[i] === squares[i - 38] &&\n      squares[i] === squares[i + 19] &&\n      squares[i] === squares[i + 38] &&\n      squares[i + 57] !== squares[i - 57]\n    ) {\n      return { player: squares[i], line: [i - 38, i - 19, i, i + 19, i + 38] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i - 19] &&\n      squares[i] === squares[i - 38] &&\n      squares[i] === squares[i - 57] &&\n      squares[i] === squares[i - 76] &&\n      squares[i + 19] !== squares[i - 95]\n    ) {\n      return { player: squares[i], line: [i - 76, i - 57, i - 38, i - 19, i] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i + 19] &&\n      squares[i] === squares[i + 38] &&\n      squares[i] === squares[i + 57] &&\n      squares[i] === squares[i + 76] &&\n      squares[i + 95] !== squares[i - 19]\n    ) {\n      return { player: squares[i], line: [i, i + 19, i + 38, i + 57, i + 76] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i - 21] &&\n      squares[i] === squares[i - 42] &&\n      squares[i] === squares[i + 21] &&\n      squares[i] === squares[i + 42] &&\n      squares[i + 63] !== squares[i - 63]\n    ) {\n      return { player: squares[i], line: [i - 21, i - 42, i, i + 21, i + 42] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i + 21] &&\n      squares[i] === squares[i + 42] &&\n      squares[i] === squares[i + 63] &&\n      squares[i] === squares[i + 84] &&\n      squares[i + 105] !== squares[i - 23]\n    ) {\n      return { player: squares[i], line: [i, i + 21, i + 42, i + 63, i + 84] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i - 21] &&\n      squares[i] === squares[i - 42] &&\n      squares[i] === squares[i - 63] &&\n      squares[i] === squares[i - 84] &&\n      squares[i + 23] !== squares[i - 105]\n    ) {\n      return { player: squares[i], line: [i - 84, i - 63, i - 42, i - 21, i] };\n    }\n  }\n  return null;\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: [\n        {\n          squares: Array(400).fill(null)\n        }\n      ],\n      stepNumber: 0,\n      xIsNext: true,\n      isDescending: true\n    };\n  }\n\n  playerMove(move) {\n    const { history, stepNumber, xIsNext, currentBoard } = this.props;\n    const historys = history.slice(0, stepNumber + 1);\n    const squares = currentBoard.slice();\n\n    if (this.calculateWinwer(squares) || squares[move]) {\n      return;\n    }\n    squares[move] = xIsNext ? 'X' : 'O';\n    playerMove(historys, squares);\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber: step,\n      xIsNext: step % 2 === 0\n    });\n  }\n\n  sortHistory() {\n    const { isDescending } = this.state;\n    this.setState({\n      isDescending: !isDescending\n    });\n  }\n\n  render() {\n    const { history, stepNumber, xIsNext, isDescending } = this.state;\n    const current = history[stepNumber];\n    const winner = calculateWinwer(current.squares);\n\n    const moves = history.map((step, move) => {\n      const desc = move ? `Go to move #${move}` : 'Go to game start';\n      return (\n        <li key={move.id}>\n          <button type=\"button\" onClick={() => this.jumpTo(move)}>\n            {move === stepNumber ? <b>{desc}</b> : desc}\n          </button>\n        </li>\n      );\n    });\n\n    let status;\n    if (winner) {\n      status = `Winner:${winner.player}`;\n    } else {\n      status = `Next player: ${xIsNext ? 'X' : 'O'}`;\n    }\n    return (\n      <div className=\"game\">\n        <div className=\"game-board\">\n          <Board\n            winner={winner && winner.line}\n            squares={current.squares}\n            onClick={i => this.playerMove(i)}\n          />\n        </div>\n        <div className=\"game-info\">\n          <div>{status}</div>\n          <ol>{isDescending ? moves : moves.reverse()}</ol>\n          <button type=\"button\" onClick={() => this.sortHistory()}>\n            Sort By: {isDescending ? 'Descending' : 'Ascending'}\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  history: state.game.history,\n  currentBoard: state.game.currentBoard,\n  xIsNext: state.game.xIsNext,\n  stepNumber: state.game.stepNumber,\n  timeTraveled: state.game.timeTraveled,\n  showHistory: state.game.showHistory,\n  endOfGame: state.game.endOfGame\n});\n\nconst matchDispatchToProps = dispatch => ({\n  playerMove: (history, currentBoard) =>\n    dispatch(playerMove(history, currentBoard))\n});\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    matchDispatchToProps\n  )(Game)\n);\n// export default Game;\n"]},"metadata":{},"sourceType":"module"}