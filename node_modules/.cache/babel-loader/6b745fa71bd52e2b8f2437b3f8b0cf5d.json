{"ast":null,"code":"var _jsxFileName = \"/Users/lttttoai/Documents/GitHub/carovn/src/containers/Game.js\";\n\n/* eslint-disable react/sort-comp */\n\n/* eslint-disable no-shadow */\n\n/* eslint-disable class-methods-use-this */\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport React from 'react';\nimport Board from '../components/Board';\nimport { playerMove, timeTravel, sortHistory, newGame // turnChangeAnimation\n} from '../acctions/gameAction';\nimport { getBestMove, aiMove } from '../acctions/aiAction';\n\nfunction calculateWinwer(squares) {\n  for (let i = 0; i < 400; i += 1) {\n    if (squares[i] && squares[i] === squares[i - 20] && squares[i] === squares[i - 40] && squares[i] === squares[i + 20] && squares[i] === squares[i + 40] && squares[i + 60] !== squares[i - 60]) {\n      return {\n        player: squares[i],\n        line: [i - 40, i - 20, i, i + 20, i + 40]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i - 20] && squares[i] === squares[i - 40] && squares[i] === squares[i - 60] && squares[i] === squares[i - 80] && squares[i + 20] !== squares[i - 100]) {\n      return {\n        player: squares[i],\n        line: [i - 80, i - 60, i - 40, i - 20, i]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i + 20] && squares[i] === squares[i + 40] && squares[i] === squares[i + 60] && squares[i] === squares[i + 80] && squares[i + 100] !== squares[i - 20]) {\n      return {\n        player: squares[i],\n        line: [i, i + 20, i + 40, i + 60, i + 80]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i - 1] && squares[i] === squares[i - 2] && squares[i] === squares[i + 1] && squares[i] === squares[i + 2] && squares[i + 3] !== squares[i - 3]) {\n      return {\n        player: squares[i],\n        line: [i - 2, i - 1, i, i + 1, i + 2]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i - 1] && squares[i] === squares[i - 2] && squares[i] === squares[i - 3] && squares[i] === squares[i - 4] && squares[i - 5] !== squares[i + 1]) {\n      return {\n        player: squares[i],\n        line: [i - 4, i - 3, i - 2, i - 1, i]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i + 1] && squares[i] === squares[i + 2] && squares[i] === squares[i + 3] && squares[i] === squares[i + 4] && squares[i + 5] !== squares[i - 1]) {\n      return {\n        player: squares[i],\n        line: [i, i + 1, i + 2, i + 3, i + 4]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i - 19] && squares[i] === squares[i - 38] && squares[i] === squares[i + 19] && squares[i] === squares[i + 38] && squares[i + 57] !== squares[i - 57]) {\n      return {\n        player: squares[i],\n        line: [i - 38, i - 19, i, i + 19, i + 38]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i - 19] && squares[i] === squares[i - 38] && squares[i] === squares[i - 57] && squares[i] === squares[i - 76] && squares[i + 19] !== squares[i - 95]) {\n      return {\n        player: squares[i],\n        line: [i - 76, i - 57, i - 38, i - 19, i]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i + 19] && squares[i] === squares[i + 38] && squares[i] === squares[i + 57] && squares[i] === squares[i + 76] && squares[i + 95] !== squares[i - 19]) {\n      return {\n        player: squares[i],\n        line: [i, i + 19, i + 38, i + 57, i + 76]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i - 21] && squares[i] === squares[i - 42] && squares[i] === squares[i + 21] && squares[i] === squares[i + 42] && squares[i + 63] !== squares[i - 63]) {\n      return {\n        player: squares[i],\n        line: [i - 21, i - 42, i, i + 21, i + 42]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i + 21] && squares[i] === squares[i + 42] && squares[i] === squares[i + 63] && squares[i] === squares[i + 84] && squares[i + 105] !== squares[i - 23]) {\n      return {\n        player: squares[i],\n        line: [i, i + 21, i + 42, i + 63, i + 84]\n      };\n    }\n\n    if (squares[i] && squares[i] === squares[i - 21] && squares[i] === squares[i - 42] && squares[i] === squares[i - 63] && squares[i] === squares[i - 84] && squares[i + 23] !== squares[i - 105]) {\n      return {\n        player: squares[i],\n        line: [i - 84, i - 63, i - 42, i - 21, i]\n      };\n    }\n  }\n\n  return null;\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.indicateVictory = this.indicateVictory.bind(this);\n  }\n\n  playerMove(i) {\n    const _this$props = this.props,\n          history = _this$props.history,\n          stepNumber = _this$props.stepNumber,\n          xIsNext = _this$props.xIsNext,\n          playerMove = _this$props.playerMove;\n    const historys = history.slice(0, stepNumber + 1);\n    const current = historys[historys.length - 1];\n    const squares = current.squares.slice();\n\n    if (calculateWinwer(squares) || squares[i]) {\n      return;\n    }\n\n    squares[i] = xIsNext ? 'X' : 'O';\n    playerMove(historys, squares);\n  }\n\n  timeTravel(step) {\n    const timeTravel = this.props.timeTravel;\n    timeTravel(step);\n  }\n\n  sortHistory() {\n    const _this$props2 = this.props,\n          isDescending = _this$props2.isDescending,\n          sortHistory = _this$props2.sortHistory;\n    sortHistory(isDescending);\n  }\n\n  componentWillMount() {\n    const _this$props3 = this.props,\n          xIsNext = _this$props3.xIsNext,\n          gameSettings = _this$props3.gameSettings,\n          stepNumber = _this$props3.stepNumber,\n          grid = _this$props3.grid,\n          currentBoard = _this$props3.currentBoard;\n    const playerStarts = gameSettings.playerStarts,\n          versus = gameSettings.versus,\n          difficulty = gameSettings.difficulty;\n    const board = currentBoard.slice();\n\n    if (stepNumber === 0) {\n      if (!playerStarts && xIsNext && versus === 'A') {\n        const bestMove = getBestMove(board, grid, xIsNext);\n        const move = aiMove(bestMove, board, difficulty);\n        setTimeout(() => {\n          this.playerMove(move);\n        }, 750);\n      }\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const _this$props4 = this.props,\n          xIsNext = _this$props4.xIsNext,\n          endOfGame = _this$props4.endOfGame,\n          grid = _this$props4.grid;\n    const xIsNexts = nextProps.xIsNext;\n    const _nextProps$gameSettin = nextProps.gameSettings,\n          playerStarts = _nextProps$gameSettin.playerStarts,\n          versus = _nextProps$gameSettin.versus,\n          difficulty = _nextProps$gameSettin.difficulty;\n    const board = nextProps.currentBoard.slice();\n    const endOfGames = nextProps.endOfGame;\n\n    if (xIsNexts !== xIsNext || endOfGames !== endOfGame) {// turnChangeAnimation();\n    }\n\n    if (nextProps.stepNumber || nextProps.stepNumber === 0) {\n      if (!endOfGame && !playerStarts && xIsNext && versus === 'A') {\n        const grid = this.props.grid; // if AI plays first (X)\n\n        const bestMove = getBestMove(board, grid, xIsNext);\n        const move = aiMove(bestMove, board, difficulty); // AI will make his move based on the difficulty level.\n\n        setTimeout(() => {\n          this.playerMove(move);\n        }, 750);\n      }\n\n      if (!endOfGame && playerStarts && !xIsNext && versus === 'A') {\n        // if AI plays second (O)\n        const bestMove = getBestMove(board, grid, xIsNext);\n        const move = aiMove(bestMove, board, difficulty);\n        setTimeout(() => {\n          this.playerMove(move);\n        }, 750);\n      }\n    }\n  }\n\n  render() {\n    const _this$props5 = this.props,\n          history = _this$props5.history,\n          stepNumber = _this$props5.stepNumber,\n          xIsNext = _this$props5.xIsNext,\n          isDescending = _this$props5.isDescending;\n    const current = history[stepNumber];\n    const winner = calculateWinwer(current.squares);\n    const moves = history.map((step, move) => {\n      const desc = move ? \"Go to move #\".concat(move) : 'NEW GAME';\n      return React.createElement(\"li\", {\n        key: move.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.timeTravel(move),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, move === stepNumber ? React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, desc) : desc));\n    });\n    let status;\n\n    if (winner) {\n      status = \"Winner:\".concat(winner.player);\n    } else {\n      status = \"Next player: \".concat(xIsNext ? 'X' : 'O');\n    }\n\n    const _this$props6 = this.props,\n          newGame = _this$props6.newGame,\n          grid = _this$props6.grid;\n    return React.createElement(\"div\", {\n      className: \"game\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"left_col_game\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"exit_game\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, \"Main Menu\")), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => newGame(grid),\n      className: \"exit_game\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, \"New Game\")), React.createElement(\"div\", {\n      className: \"game-board\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(Board, {\n      winner: winner && winner.line,\n      squares: current.squares,\n      onClick: i => this.playerMove(i),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"game-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, status), React.createElement(\"ol\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, isDescending ? moves : moves.reverse()), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => this.sortHistory(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"Sort By: \", isDescending ? 'Descending' : 'Ascending')));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  gameSettings: state.settings,\n  history: state.game.history,\n  currentBoard: state.game.currentBoard,\n  xIsNext: state.game.xIsNext,\n  isDescending: state.game.isDescending,\n  stepNumber: state.game.stepNumber,\n  timeTraveled: state.game.timeTraveled,\n  showHistory: state.game.showHistory,\n  endOfGame: state.game.endOfGame\n});\n\nconst matchDispatchToProps = dispatch => ({\n  playerMove: (history, squares) => dispatch(playerMove(history, squares)),\n  sortHistory: isDescending => dispatch(sortHistory(isDescending)),\n  timeTravel: step => dispatch(timeTravel(step)),\n  newGame: () => dispatch(newGame())\n});\n\nexport default withRouter(connect(mapStateToProps, matchDispatchToProps)(Game));","map":{"version":3,"sources":["/Users/lttttoai/Documents/GitHub/carovn/src/containers/Game.js"],"names":["connect","Link","withRouter","React","Board","playerMove","timeTravel","sortHistory","newGame","getBestMove","aiMove","calculateWinwer","squares","i","player","line","Game","Component","constructor","props","indicateVictory","bind","history","stepNumber","xIsNext","historys","slice","current","length","step","isDescending","componentWillMount","gameSettings","grid","currentBoard","playerStarts","versus","difficulty","board","bestMove","move","setTimeout","componentWillReceiveProps","nextProps","endOfGame","xIsNexts","endOfGames","render","winner","moves","map","desc","id","status","reverse","mapStateToProps","state","settings","game","timeTraveled","showHistory","matchDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["/* eslint-disable react/sort-comp */\n/* eslint-disable no-shadow */\n/* eslint-disable class-methods-use-this */\n\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\n\nimport React from 'react';\nimport Board from '../components/Board';\n\nimport {\n  playerMove,\n  timeTravel,\n  sortHistory,\n  newGame\n  // turnChangeAnimation\n} from '../acctions/gameAction';\nimport { getBestMove, aiMove } from '../acctions/aiAction';\n\nfunction calculateWinwer(squares) {\n  for (let i = 0; i < 400; i += 1) {\n    if (\n      squares[i] &&\n      squares[i] === squares[i - 20] &&\n      squares[i] === squares[i - 40] &&\n      squares[i] === squares[i + 20] &&\n      squares[i] === squares[i + 40] &&\n      squares[i + 60] !== squares[i - 60]\n    ) {\n      return { player: squares[i], line: [i - 40, i - 20, i, i + 20, i + 40] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i - 20] &&\n      squares[i] === squares[i - 40] &&\n      squares[i] === squares[i - 60] &&\n      squares[i] === squares[i - 80] &&\n      squares[i + 20] !== squares[i - 100]\n    ) {\n      return { player: squares[i], line: [i - 80, i - 60, i - 40, i - 20, i] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i + 20] &&\n      squares[i] === squares[i + 40] &&\n      squares[i] === squares[i + 60] &&\n      squares[i] === squares[i + 80] &&\n      squares[i + 100] !== squares[i - 20]\n    ) {\n      return { player: squares[i], line: [i, i + 20, i + 40, i + 60, i + 80] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i - 1] &&\n      squares[i] === squares[i - 2] &&\n      squares[i] === squares[i + 1] &&\n      squares[i] === squares[i + 2] &&\n      squares[i + 3] !== squares[i - 3]\n    ) {\n      return { player: squares[i], line: [i - 2, i - 1, i, i + 1, i + 2] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i - 1] &&\n      squares[i] === squares[i - 2] &&\n      squares[i] === squares[i - 3] &&\n      squares[i] === squares[i - 4] &&\n      squares[i - 5] !== squares[i + 1]\n    ) {\n      return { player: squares[i], line: [i - 4, i - 3, i - 2, i - 1, i] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i + 1] &&\n      squares[i] === squares[i + 2] &&\n      squares[i] === squares[i + 3] &&\n      squares[i] === squares[i + 4] &&\n      squares[i + 5] !== squares[i - 1]\n    ) {\n      return { player: squares[i], line: [i, i + 1, i + 2, i + 3, i + 4] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i - 19] &&\n      squares[i] === squares[i - 38] &&\n      squares[i] === squares[i + 19] &&\n      squares[i] === squares[i + 38] &&\n      squares[i + 57] !== squares[i - 57]\n    ) {\n      return { player: squares[i], line: [i - 38, i - 19, i, i + 19, i + 38] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i - 19] &&\n      squares[i] === squares[i - 38] &&\n      squares[i] === squares[i - 57] &&\n      squares[i] === squares[i - 76] &&\n      squares[i + 19] !== squares[i - 95]\n    ) {\n      return { player: squares[i], line: [i - 76, i - 57, i - 38, i - 19, i] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i + 19] &&\n      squares[i] === squares[i + 38] &&\n      squares[i] === squares[i + 57] &&\n      squares[i] === squares[i + 76] &&\n      squares[i + 95] !== squares[i - 19]\n    ) {\n      return { player: squares[i], line: [i, i + 19, i + 38, i + 57, i + 76] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i - 21] &&\n      squares[i] === squares[i - 42] &&\n      squares[i] === squares[i + 21] &&\n      squares[i] === squares[i + 42] &&\n      squares[i + 63] !== squares[i - 63]\n    ) {\n      return { player: squares[i], line: [i - 21, i - 42, i, i + 21, i + 42] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i + 21] &&\n      squares[i] === squares[i + 42] &&\n      squares[i] === squares[i + 63] &&\n      squares[i] === squares[i + 84] &&\n      squares[i + 105] !== squares[i - 23]\n    ) {\n      return { player: squares[i], line: [i, i + 21, i + 42, i + 63, i + 84] };\n    }\n    if (\n      squares[i] &&\n      squares[i] === squares[i - 21] &&\n      squares[i] === squares[i - 42] &&\n      squares[i] === squares[i - 63] &&\n      squares[i] === squares[i - 84] &&\n      squares[i + 23] !== squares[i - 105]\n    ) {\n      return { player: squares[i], line: [i - 84, i - 63, i - 42, i - 21, i] };\n    }\n  }\n  return null;\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.indicateVictory = this.indicateVictory.bind(this);\n  }\n\n  playerMove(i) {\n    const { history, stepNumber, xIsNext, playerMove } = this.props;\n    const historys = history.slice(0, stepNumber + 1);\n    const current = historys[historys.length - 1];\n    const squares = current.squares.slice();\n\n    if (calculateWinwer(squares) || squares[i]) {\n      return;\n    }\n    squares[i] = xIsNext ? 'X' : 'O';\n    playerMove(historys, squares);\n  }\n\n  timeTravel(step) {\n    const { timeTravel } = this.props;\n    timeTravel(step);\n  }\n\n  sortHistory() {\n    const { isDescending, sortHistory } = this.props;\n    sortHistory(isDescending);\n  }\n\n  componentWillMount() {\n    const {\n      xIsNext,\n      gameSettings,\n      stepNumber,\n      grid,\n      currentBoard\n    } = this.props;\n    const { playerStarts, versus, difficulty } = gameSettings;\n    const board = currentBoard.slice();\n    if (stepNumber === 0) {\n      if (!playerStarts && xIsNext && versus === 'A') {\n        const bestMove = getBestMove(board, grid, xIsNext);\n        const move = aiMove(bestMove, board, difficulty);\n        setTimeout(() => {\n          this.playerMove(move);\n        }, 750);\n      }\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { xIsNext, endOfGame, grid } = this.props;\n    const xIsNexts = nextProps.xIsNext;\n    const { playerStarts, versus, difficulty } = nextProps.gameSettings;\n    const board = nextProps.currentBoard.slice();\n    const endOfGames = nextProps.endOfGame;\n    if (xIsNexts !== xIsNext || endOfGames !== endOfGame) {\n      // turnChangeAnimation();\n    }\n    if (nextProps.stepNumber || nextProps.stepNumber === 0) {\n      if (!endOfGame && !playerStarts && xIsNext && versus === 'A') {\n        const { grid } = this.props;\n        // if AI plays first (X)\n        const bestMove = getBestMove(board, grid, xIsNext);\n        const move = aiMove(bestMove, board, difficulty);\n        // AI will make his move based on the difficulty level.\n        setTimeout(() => {\n          this.playerMove(move);\n        }, 750);\n      }\n      if (!endOfGame && playerStarts && !xIsNext && versus === 'A') {\n        // if AI plays second (O)\n        const bestMove = getBestMove(board, grid, xIsNext);\n        const move = aiMove(bestMove, board, difficulty);\n        setTimeout(() => {\n          this.playerMove(move);\n        }, 750);\n      }\n    }\n  }\n\n  render() {\n    const { history, stepNumber, xIsNext, isDescending } = this.props;\n    const current = history[stepNumber];\n    const winner = calculateWinwer(current.squares);\n\n    const moves = history.map((step, move) => {\n      const desc = move ? `Go to move #${move}` : 'NEW GAME';\n      return (\n        <li key={move.id}>\n          <button type=\"button\" onClick={() => this.timeTravel(move)}>\n            {move === stepNumber ? <b>{desc}</b> : desc}\n          </button>\n        </li>\n      );\n    });\n\n    let status;\n    if (winner) {\n      status = `Winner:${winner.player}`;\n    } else {\n      status = `Next player: ${xIsNext ? 'X' : 'O'}`;\n    }\n    const { newGame, grid } = this.props;\n    return (\n      <div className=\"game\">\n        <div className=\"left_col_game\">\n          <Link to=\"/\">\n            <button type=\"button\" className=\"exit_game\">\n              Main Menu\n            </button>\n          </Link>\n          <button\n            type=\"button\"\n            onClick={() => newGame(grid)}\n            className=\"exit_game\"\n          >\n            New Game\n          </button>\n        </div>\n        <div className=\"game-board\">\n          <Board\n            winner={winner && winner.line}\n            squares={current.squares}\n            onClick={i => this.playerMove(i)}\n          />\n        </div>\n        <div className=\"game-info\">\n          <div>{status}</div>\n          <ol>{isDescending ? moves : moves.reverse()}</ol>\n          <button type=\"button\" onClick={() => this.sortHistory()}>\n            Sort By: {isDescending ? 'Descending' : 'Ascending'}\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  gameSettings: state.settings,\n  history: state.game.history,\n  currentBoard: state.game.currentBoard,\n  xIsNext: state.game.xIsNext,\n  isDescending: state.game.isDescending,\n  stepNumber: state.game.stepNumber,\n  timeTraveled: state.game.timeTraveled,\n  showHistory: state.game.showHistory,\n  endOfGame: state.game.endOfGame\n});\n\nconst matchDispatchToProps = dispatch => ({\n  playerMove: (history, squares) => dispatch(playerMove(history, squares)),\n  sortHistory: isDescending => dispatch(sortHistory(isDescending)),\n  timeTravel: step => dispatch(timeTravel(step)),\n  newGame: () => dispatch(newGame())\n});\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    matchDispatchToProps\n  )(Game)\n);\n"]},"metadata":{},"sourceType":"module"}