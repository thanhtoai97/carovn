{"ast":null,"code":"var _jsxFileName = \"/Users/lttttoai/Documents/GitHub/carovn/src/containers/Game.js\";\n\n/* eslint-disable class-methods-use-this */\nimport React from 'react';\nimport Board from '../components/Board';\nimport { playerMove, timeTravel } from '../acctions/gameAction';\nimport '../style/App.css';\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.playerMove = this.playerMove.bind(this);\n    this.calculateWinwer = this.calculateWinwer.bind(this);\n    this.movesList = this.movesList.bind(this);\n    this.gameStatus = this.gameStatus.bind(this);\n  }\n\n  playerMove(move) {\n    const _this$props = this.props,\n          history = _this$props.history,\n          stepNumber = _this$props.stepNumber,\n          xIsNext = _this$props.xIsNext;\n    const historys = history.slice(0, stepNumber + 1);\n    const current = historys[historys.length - 1];\n    const squares = current.currentBoard.slice();\n\n    if (this.calculateWinwer(squares) || squares[move]) {\n      return;\n    }\n\n    squares[move] = xIsNext ? 'X' : 'O';\n    playerMove(history, squares);\n  }\n\n  calculateWinwer(squares) {\n    for (let i = 0; i < 400; i += 1) {\n      if (squares[i] && squares[i] === squares[i - 20] && squares[i] === squares[i - 40] && squares[i] === squares[i + 20] && squares[i] === squares[i + 40] && squares[i + 60] !== squares[i - 60]) {\n        return {\n          player: squares[i],\n          line: [i - 40, i - 20, i, i + 20, i + 40]\n        };\n      }\n\n      if (squares[i] && squares[i] === squares[i - 20] && squares[i] === squares[i - 40] && squares[i] === squares[i - 60] && squares[i] === squares[i - 80] && squares[i + 20] !== squares[i - 100]) {\n        return {\n          player: squares[i],\n          line: [i - 80, i - 60, i - 40, i - 20, i]\n        };\n      }\n\n      if (squares[i] && squares[i] === squares[i + 20] && squares[i] === squares[i + 40] && squares[i] === squares[i + 60] && squares[i] === squares[i + 80] && squares[i + 100] !== squares[i - 20]) {\n        return {\n          player: squares[i],\n          line: [i, i + 20, i + 40, i + 60, i + 80]\n        };\n      }\n\n      if (squares[i] && squares[i] === squares[i - 1] && squares[i] === squares[i - 2] && squares[i] === squares[i + 1] && squares[i] === squares[i + 2] && squares[i + 3] !== squares[i - 3]) {\n        return {\n          player: squares[i],\n          line: [i - 2, i - 1, i, i + 1, i + 2]\n        };\n      }\n\n      if (squares[i] && squares[i] === squares[i - 1] && squares[i] === squares[i - 2] && squares[i] === squares[i - 3] && squares[i] === squares[i - 4] && squares[i - 5] !== squares[i + 1]) {\n        return {\n          player: squares[i],\n          line: [i - 4, i - 3, i - 2, i - 1, i]\n        };\n      }\n\n      if (squares[i] && squares[i] === squares[i + 1] && squares[i] === squares[i + 2] && squares[i] === squares[i + 3] && squares[i] === squares[i + 4] && squares[i + 5] !== squares[i - 1]) {\n        return {\n          player: squares[i],\n          line: [i, i + 1, i + 2, i + 3, i + 4]\n        };\n      }\n\n      if (squares[i] && squares[i] === squares[i - 19] && squares[i] === squares[i - 38] && squares[i] === squares[i + 19] && squares[i] === squares[i + 38] && squares[i + 57] !== squares[i - 57]) {\n        return {\n          player: squares[i],\n          line: [i - 38, i - 19, i, i + 19, i + 38]\n        };\n      }\n\n      if (squares[i] && squares[i] === squares[i - 19] && squares[i] === squares[i - 38] && squares[i] === squares[i - 57] && squares[i] === squares[i - 76] && squares[i + 19] !== squares[i - 95]) {\n        return {\n          player: squares[i],\n          line: [i - 76, i - 57, i - 38, i - 19, i]\n        };\n      }\n\n      if (squares[i] && squares[i] === squares[i + 19] && squares[i] === squares[i + 38] && squares[i] === squares[i + 57] && squares[i] === squares[i + 76] && squares[i + 95] !== squares[i - 19]) {\n        return {\n          player: squares[i],\n          line: [i, i + 19, i + 38, i + 57, i + 76]\n        };\n      }\n\n      if (squares[i] && squares[i] === squares[i - 21] && squares[i] === squares[i - 42] && squares[i] === squares[i + 21] && squares[i] === squares[i + 42] && squares[i + 63] !== squares[i - 63]) {\n        return {\n          player: squares[i],\n          line: [i - 21, i - 42, i, i + 21, i + 42]\n        };\n      }\n\n      if (squares[i] && squares[i] === squares[i + 21] && squares[i] === squares[i + 42] && squares[i] === squares[i + 63] && squares[i] === squares[i + 84] && squares[i + 105] !== squares[i - 23]) {\n        return {\n          player: squares[i],\n          line: [i, i + 21, i + 42, i + 63, i + 84]\n        };\n      }\n\n      if (squares[i] && squares[i] === squares[i - 21] && squares[i] === squares[i - 42] && squares[i] === squares[i - 63] && squares[i] === squares[i - 84] && squares[i + 23] !== squares[i - 105]) {\n        return {\n          player: squares[i],\n          line: [i - 84, i - 63, i - 42, i - 21, i]\n        };\n      }\n    }\n\n    return {\n      player: null,\n      line: [null, null, null, null, null]\n    };\n  }\n\n  movesList(history) {\n    const _this$props2 = this.props,\n          currentBoard = _this$props2.currentBoard,\n          stepNumber = _this$props2.stepNumber;\n\n    const _this$indicateVictory = this.indicateVictory(currentBoard.slice()),\n          winner = _this$indicateVictory.winner;\n\n    const gameStatus = this.gameStatus(winner);\n    const endOfGame = gameStatus.endOfGame;\n    return history.map((step, move) => {\n      const player = move % 2 ? ' - X' : ' - O';\n      const description = move ? \"Move #\".concat(move).concat(player) : 'Game Start';\n      return React.createElement(\"li\", {\n        key: move.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => timeTravel(move, endOfGame),\n        className: stepNumber === move ? 'current_step' : '',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, description));\n    });\n  }\n\n  gameStatus(winner) {\n    let status;\n    let endGame;\n    const _this$props3 = this.props,\n          stepNumber = _this$props3.stepNumber,\n          xIsNext = _this$props3.xIsNext;\n\n    if (winner) {\n      status = \"\".concat(winner, \" is the winner!\");\n      endGame = true;\n    } else if (!winner && stepNumber === 20) {\n      status = \"It's a Draw!\";\n      endGame = true;\n    } else {\n      status = \"\".concat(xIsNext ? 'X' : 'O', \"'s turn.\");\n      endGame = false;\n    }\n\n    return {\n      status,\n      endGame\n    };\n  }\n\n  handleClick(i) {\n    const _this$state = this.state,\n          history = _this$state.history,\n          stepNumber = _this$state.stepNumber,\n          xIsNext = _this$state.xIsNext;\n    const historys = history.slice(0, stepNumber + 1);\n    const current = historys[historys.length - 1];\n    const squares = current.currentBoard.slice();\n\n    if (this.calculateWinwer(squares) || squares[i]) {\n      return;\n    }\n\n    squares[i] = xIsNext ? 'X' : 'O';\n    this.setState({\n      history: historys.concat([{\n        squares\n      }]),\n      stepNumber: historys.length,\n      xIsNext: !xIsNext\n    });\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber: step,\n      xIsNext: step % 2 === 0\n    });\n  }\n\n  sortHistory() {\n    const isDescending = this.state.isDescending;\n    this.setState({\n      isDescending: !isDescending\n    });\n  }\n\n  render() {\n    const _this$props4 = this.props,\n          currentBoard = _this$props4.currentBoard,\n          history = _this$props4.history,\n          stepNumber = _this$props4.stepNumber,\n          xIsNext = _this$props4.xIsNext,\n          isDescending = _this$props4.isDescending; // const current = history[stepNumber];\n\n    const winner = this.calculateWinwer(currentBoard);\n    const moves = history.map((_step, move) => {\n      const desc = move ? \"Go to move #\".concat(move) : 'Go to game start';\n      return React.createElement(\"li\", {\n        key: move.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.jumpTo(move),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, move === stepNumber ? React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, desc) : desc));\n    });\n    let status;\n\n    if (winner) {\n      status = \"Winner:\".concat(winner.player);\n    } else {\n      status = \"Next player: \".concat(xIsNext ? 'X' : 'O');\n    }\n\n    return React.createElement(\"div\", {\n      className: \"game\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"game-board\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, React.createElement(Board, {\n      winner: winner && winner.line,\n      squares: currentBoard,\n      playerMove: i => this.playerMove(i),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"game-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, status), React.createElement(\"ol\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, isDescending ? moves : moves.reverse()), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => this.sortHistory(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, \"Sort By: \", isDescending ? 'Descending' : 'Ascending')));\n  }\n\n}\n\nexport default Game;","map":{"version":3,"sources":["/Users/lttttoai/Documents/GitHub/carovn/src/containers/Game.js"],"names":["React","Board","playerMove","timeTravel","Game","Component","constructor","props","bind","calculateWinwer","movesList","gameStatus","move","history","stepNumber","xIsNext","historys","slice","current","length","squares","currentBoard","i","player","line","indicateVictory","winner","endOfGame","map","step","description","id","status","endGame","handleClick","state","setState","concat","jumpTo","sortHistory","isDescending","render","moves","_step","desc","reverse"],"mappings":"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","sourcesContent":["/* eslint-disable class-methods-use-this */\nimport React from 'react';\nimport Board from '../components/Board';\n\nimport { playerMove, timeTravel } from '../acctions/gameAction';\n\nimport '../style/App.css';\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.playerMove = this.playerMove.bind(this);\n    this.calculateWinwer = this.calculateWinwer.bind(this);\n    this.movesList = this.movesList.bind(this);\n    this.gameStatus = this.gameStatus.bind(this);\n  }\n\n  playerMove(move) {\n    const { history, stepNumber, xIsNext } = this.props;\n    const historys = history.slice(0, stepNumber + 1);\n    const current = historys[historys.length - 1];\n    const squares = current.currentBoard.slice();\n\n    if (this.calculateWinwer(squares) || squares[move]) {\n      return;\n    }\n    squares[move] = xIsNext ? 'X' : 'O';\n    playerMove(history, squares);\n  }\n\n  calculateWinwer(squares) {\n    for (let i = 0; i < 400; i += 1) {\n      if (\n        squares[i] &&\n        squares[i] === squares[i - 20] &&\n        squares[i] === squares[i - 40] &&\n        squares[i] === squares[i + 20] &&\n        squares[i] === squares[i + 40] &&\n        squares[i + 60] !== squares[i - 60]\n      ) {\n        return {\n          player: squares[i],\n          line: [i - 40, i - 20, i, i + 20, i + 40]\n        };\n      }\n      if (\n        squares[i] &&\n        squares[i] === squares[i - 20] &&\n        squares[i] === squares[i - 40] &&\n        squares[i] === squares[i - 60] &&\n        squares[i] === squares[i - 80] &&\n        squares[i + 20] !== squares[i - 100]\n      ) {\n        return {\n          player: squares[i],\n          line: [i - 80, i - 60, i - 40, i - 20, i]\n        };\n      }\n      if (\n        squares[i] &&\n        squares[i] === squares[i + 20] &&\n        squares[i] === squares[i + 40] &&\n        squares[i] === squares[i + 60] &&\n        squares[i] === squares[i + 80] &&\n        squares[i + 100] !== squares[i - 20]\n      ) {\n        return {\n          player: squares[i],\n          line: [i, i + 20, i + 40, i + 60, i + 80]\n        };\n      }\n      if (\n        squares[i] &&\n        squares[i] === squares[i - 1] &&\n        squares[i] === squares[i - 2] &&\n        squares[i] === squares[i + 1] &&\n        squares[i] === squares[i + 2] &&\n        squares[i + 3] !== squares[i - 3]\n      ) {\n        return { player: squares[i], line: [i - 2, i - 1, i, i + 1, i + 2] };\n      }\n      if (\n        squares[i] &&\n        squares[i] === squares[i - 1] &&\n        squares[i] === squares[i - 2] &&\n        squares[i] === squares[i - 3] &&\n        squares[i] === squares[i - 4] &&\n        squares[i - 5] !== squares[i + 1]\n      ) {\n        return { player: squares[i], line: [i - 4, i - 3, i - 2, i - 1, i] };\n      }\n      if (\n        squares[i] &&\n        squares[i] === squares[i + 1] &&\n        squares[i] === squares[i + 2] &&\n        squares[i] === squares[i + 3] &&\n        squares[i] === squares[i + 4] &&\n        squares[i + 5] !== squares[i - 1]\n      ) {\n        return { player: squares[i], line: [i, i + 1, i + 2, i + 3, i + 4] };\n      }\n      if (\n        squares[i] &&\n        squares[i] === squares[i - 19] &&\n        squares[i] === squares[i - 38] &&\n        squares[i] === squares[i + 19] &&\n        squares[i] === squares[i + 38] &&\n        squares[i + 57] !== squares[i - 57]\n      ) {\n        return {\n          player: squares[i],\n          line: [i - 38, i - 19, i, i + 19, i + 38]\n        };\n      }\n      if (\n        squares[i] &&\n        squares[i] === squares[i - 19] &&\n        squares[i] === squares[i - 38] &&\n        squares[i] === squares[i - 57] &&\n        squares[i] === squares[i - 76] &&\n        squares[i + 19] !== squares[i - 95]\n      ) {\n        return {\n          player: squares[i],\n          line: [i - 76, i - 57, i - 38, i - 19, i]\n        };\n      }\n      if (\n        squares[i] &&\n        squares[i] === squares[i + 19] &&\n        squares[i] === squares[i + 38] &&\n        squares[i] === squares[i + 57] &&\n        squares[i] === squares[i + 76] &&\n        squares[i + 95] !== squares[i - 19]\n      ) {\n        return {\n          player: squares[i],\n          line: [i, i + 19, i + 38, i + 57, i + 76]\n        };\n      }\n      if (\n        squares[i] &&\n        squares[i] === squares[i - 21] &&\n        squares[i] === squares[i - 42] &&\n        squares[i] === squares[i + 21] &&\n        squares[i] === squares[i + 42] &&\n        squares[i + 63] !== squares[i - 63]\n      ) {\n        return {\n          player: squares[i],\n          line: [i - 21, i - 42, i, i + 21, i + 42]\n        };\n      }\n      if (\n        squares[i] &&\n        squares[i] === squares[i + 21] &&\n        squares[i] === squares[i + 42] &&\n        squares[i] === squares[i + 63] &&\n        squares[i] === squares[i + 84] &&\n        squares[i + 105] !== squares[i - 23]\n      ) {\n        return {\n          player: squares[i],\n          line: [i, i + 21, i + 42, i + 63, i + 84]\n        };\n      }\n      if (\n        squares[i] &&\n        squares[i] === squares[i - 21] &&\n        squares[i] === squares[i - 42] &&\n        squares[i] === squares[i - 63] &&\n        squares[i] === squares[i - 84] &&\n        squares[i + 23] !== squares[i - 105]\n      ) {\n        return {\n          player: squares[i],\n          line: [i - 84, i - 63, i - 42, i - 21, i]\n        };\n      }\n    }\n    return { player: null, line: [null, null, null, null, null] };\n  }\n\n  movesList(history) {\n    const { currentBoard, stepNumber } = this.props;\n    const { winner } = this.indicateVictory(currentBoard.slice());\n    const gameStatus = this.gameStatus(winner);\n    const { endOfGame } = gameStatus;\n    return history.map((step, move) => {\n      const player = move % 2 ? ' - X' : ' - O';\n      const description = move ? `Move #${move}${player}` : 'Game Start';\n      return (\n        <li key={move.id}>\n          <button\n            type=\"button\"\n            onClick={() => timeTravel(move, endOfGame)}\n            className={stepNumber === move ? 'current_step' : ''}\n          >\n            {description}\n          </button>\n        </li>\n      );\n    });\n  }\n\n  gameStatus(winner) {\n    let status;\n    let endGame;\n    const { stepNumber, xIsNext } = this.props;\n    if (winner) {\n      status = `${winner} is the winner!`;\n      endGame = true;\n    } else if (!winner && stepNumber === 20) {\n      status = \"It's a Draw!\";\n      endGame = true;\n    } else {\n      status = `${xIsNext ? 'X' : 'O'}'s turn.`;\n      endGame = false;\n    }\n    return { status, endGame };\n  }\n\n  handleClick(i) {\n    const { history, stepNumber, xIsNext } = this.state;\n    const historys = history.slice(0, stepNumber + 1);\n    const current = historys[historys.length - 1];\n    const squares = current.currentBoard.slice();\n\n    if (this.calculateWinwer(squares) || squares[i]) {\n      return;\n    }\n    squares[i] = xIsNext ? 'X' : 'O';\n    this.setState({\n      history: historys.concat([\n        {\n          squares\n        }\n      ]),\n      stepNumber: historys.length,\n      xIsNext: !xIsNext\n    });\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber: step,\n      xIsNext: step % 2 === 0\n    });\n  }\n\n  sortHistory() {\n    const { isDescending } = this.state;\n    this.setState({\n      isDescending: !isDescending\n    });\n  }\n\n  render() {\n    const {\n      currentBoard,\n      history,\n      stepNumber,\n      xIsNext,\n      isDescending\n    } = this.props;\n\n    // const current = history[stepNumber];\n    const winner = this.calculateWinwer(currentBoard);\n\n    const moves = history.map((_step, move) => {\n      const desc = move ? `Go to move #${move}` : 'Go to game start';\n      return (\n        <li key={move.id}>\n          <button type=\"button\" onClick={() => this.jumpTo(move)}>\n            {move === stepNumber ? <b>{desc}</b> : desc}\n          </button>\n        </li>\n      );\n    });\n\n    let status;\n    if (winner) {\n      status = `Winner:${winner.player}`;\n    } else {\n      status = `Next player: ${xIsNext ? 'X' : 'O'}`;\n    }\n    return (\n      <div className=\"game\">\n        <div className=\"game-board\">\n          <Board\n            winner={winner && winner.line}\n            squares={currentBoard}\n            playerMove={i => this.playerMove(i)}\n          />\n        </div>\n        <div className=\"game-info\">\n          <div>{status}</div>\n          <ol>{isDescending ? moves : moves.reverse()}</ol>\n          <button type=\"button\" onClick={() => this.sortHistory()}>\n            Sort By: {isDescending ? 'Descending' : 'Ascending'}\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Game;\n"]},"metadata":{},"sourceType":"module"}